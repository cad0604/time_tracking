"use strict";(self.webpackChunkreact_digitalbrann_no=self.webpackChunkreact_digitalbrann_no||[]).push([[402],{8100:(e,t,n)=>{n.d(t,{Z:()=>i});n(2791);var a=n(184);const i=e=>{let{children:t}=e;return(0,a.jsx)("div",{className:"brann-centered-container",children:t})}},6414:(e,t,n)=>{n.d(t,{Z:()=>i});n(2791);var a=n(184);function i(e){let{width:t,children:n,marginTop:i=0}=e;return(0,a.jsx)("div",{style:{marginTop:i,width:t},className:"brann-paper",children:n})}},4054:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(2641),i=(n(2791),n(184));function r(e){let{label:t,size:n="large",...r}=e;return(0,i.jsx)(a.ZP,{className:"brann-secondary-button",size:n,type:"default",...r,children:t})}},4212:(e,t,n)=>{n.d(t,{Z:()=>l});n(2791);var a=n(3655),i=n(184);const{Text:r}=a.default;function l(e){let{text:t,align:n,color:a,fontSize:l=16,marginTop:s=0,...o}=e;return(0,i.jsx)(r,{ellipsis:!0,...o,style:{marginTop:s,textAlign:n,color:a,fontSize:l},children:t})}},2082:(e,t,n)=>{n.d(t,{Z:()=>l});n(2791);var a=n(3655),i=n(184);const{Title:r}=a.default;function l(e){let{text:t,align:n,color:a,level:l=2}=e;return(0,i.jsx)(r,{level:l,style:{marginTop:0,textAlign:n,color:a},children:t})}},146:(e,t,n)=>{n.d(t,{Z:()=>m});n(2791);var a=n(9434),i=n(3990),r=n(184);const l=e=>{let{children:t,...n}=e;return(0,r.jsx)("div",{...n,children:t})};var s=n(7689),o=n(1773),c=n(6800);const d=n.p+"static/media/LogoGMR.d5171a7665c86de1000a.png";function u(e){let{size:t=46,justify:n="center"}=e;const a={align:"center",block:"true",style:{justifyContent:n,width:"100%",padding:"0 24px"}},i={height:t,alt:"Digitalbrann",preview:!1};return(0,r.jsx)(o.Z,{...a,children:(0,r.jsx)(c.Z,{src:d,...i})})}var g=n(2641);function p(e){let{label:t,size:n="large",...a}=e;return(0,r.jsx)(g.ZP,{className:"brann-active-button",size:n,type:"primary",...a,children:t})}const{Header:h,Content:x}=i.default,m=e=>{let{children:t}=e;const n=(0,a.I0)(),o=(0,s.s0)();return(0,r.jsx)(i.default,{className:"app-layout",children:(0,r.jsxs)(i.default,{children:[(0,r.jsxs)(h,{style:{background:"linear-gradient(to right, white 15%, green)"},children:[(0,r.jsx)(l,{className:"nav_left",children:(0,r.jsx)(u,{})}),(0,r.jsx)(l,{className:"nav",children:(0,r.jsx)(p,{label:"Finalizar la sesi\xf3n",onClick:()=>{var e;"/loggut"===(e="/loggut")?n({type:"LOGOUT"}):o(e)}})})]}),(0,r.jsx)(x,{children:t})]})})}},8192:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var a=n(2791),i=n(6106),r=n(914),l=n(146),s=n(2082),o=n(1632),c=n(1773),d=n(3069),u=n(9806),g=n(184);function p(e){let{icon:t,size:n=20,...a}=e;return(0,g.jsx)(u.G,{icon:t,style:{fontSize:n},...a})}var h=n(4212),x=n(9434);const m=e=>String("0"+e).slice(-2),f=(e,t)=>{"string"!==typeof e&&"number"!==typeof e||(e=new Date(e)),"string"!==typeof t&&"number"!==typeof t||(t=new Date(t));const n=Math.round((t-e)/1e3);let a=n%60,i=0,r=0;n>a&&(i=(n-a)/60,r=i%60);let l=0,s=0;return i>r&&(l=(i-r)/60,s=l%60),m(s)+":"+m(r)+":"+m(a)};var j=n(2140),v=n(6965),y=n(3283),T=n(7892),Z=n.n(T),b=n(986);var w=n(8100),D=n(6414);var A=n(2641);function z(e){let{label:t,size:n="large",...a}=e;return(0,g.jsx)(A.ZP,{className:"brann-primary-button",size:n,type:"primary",...a,children:t})}var S=n(4054);let _=null;const E=()=>{const e=(0,x.I0)(),{timeStart:t}=(0,x.v9)((e=>e.workflowTimeStart)),[n,l]=(0,a.useState)(!1),[u,m]=(0,a.useState)("00:00:00"),[T,A]=(0,a.useState)(null),[E,I]=(0,a.useState)(null),[L,C]=(0,a.useState)(null),[N,k]=(0,a.useState)(null),M=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:768;const[t,n]=(0,a.useState)(window.innerWidth<=e);return(0,a.useEffect)((()=>{const t=()=>{n(window.innerWidth<=e)};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}),[e]),t}();(0,a.useEffect)((()=>{var e,t;null!==N&&(e="Error",t="".concat(N),b.Z.warning({duration:5,message:e,description:t}),k(null))}),[N]),(0,a.useEffect)((()=>{e({type:j.Z.FETCH_TIME_START})}),[e]),(0,a.useEffect)((()=>{if(!(0,y.Z)(t)){_=Z()(t.startTime);const e=()=>{const e=new Date;m(f(_,e))};e();let n=setInterval((()=>{e()}),1e3);A(n),l(!0),t.latitude&&I(t.latitude),t.longitude&&C(t.longitude)}}),[t]);const G=()=>{const e=new Date;m(f(_,e))};return(0,g.jsx)(w.Z,{children:(0,g.jsxs)(i.Z,{justify:"center",align:"middle",gutter:[0,32],children:[(0,g.jsx)(r.Z,{span:24,children:(0,g.jsx)(s.Z,{text:"Quieres empezar a trabajar ahora?",level:M?3:2})}),(0,g.jsx)(r.Z,{span:24,children:(0,g.jsx)(w.Z,{children:(0,g.jsx)(D.Z,{width:M?400:600,children:(0,g.jsx)(h.Z,{text:u,fontSize:M?60:100})})})}),(0,g.jsx)(r.Z,{span:24,children:(0,g.jsxs)(c.Z,{children:[(0,g.jsx)(z,{icon:(0,g.jsx)(p,{icon:o.zc,color:"green"}),label:"Play",disabled:n,onClick:()=>{const t=new Date;_=t,G();let n=setInterval((()=>{G()}),1e3);A(n),(()=>{if("geolocation"in navigator){const t=navigator.geolocation.watchPosition((t=>{I(t.coords.latitude),C(t.coords.longitude),k(null),e({type:j.Z.ADD_TIME_START,payload:{startTime:_,latitude:t.coords.latitude,longitude:t.coords.longitude}})}),(t=>{k(t.message),e({type:j.Z.ADD_TIME_START,payload:{startTime:_}})}),{enableHighAccuracy:!0,timeout:3e3,maximumAge:0});setTimeout((()=>{navigator.geolocation.clearWatch(t)}),4e3)}else k("Geolocalizaci\xf3n no soportada por este navegador."),e({type:j.Z.ADD_TIME_START,payload:{startTime:_}})})(),l((e=>!e))}}),(0,g.jsx)(d.Z,{title:"Detener el seguimiento del tiempo",description:"Est\xe1s segura de detener el seguimiento del tiempo?",onConfirm:()=>{clearInterval(T),A(null),(()=>{if("geolocation"in navigator){const t=navigator.geolocation.watchPosition((t=>{k(null);const n=new Date;e({type:v.Z.ADD_TIME_TRACKING,payload:{startTime:_,endTime:n,startLatitude:E||0,startLongitude:L||0,endLatitude:t.coords.latitude,endLongitude:t.coords.longitude}})}),(t=>{k(t.message);const n=new Date;e({type:v.Z.ADD_TIME_TRACKING,payload:{startTime:_,endTime:n,startLatitude:E||0,startLongitude:L||0}})}),{enableHighAccuracy:!0,timeout:3e3,maximumAge:0});setTimeout((()=>{navigator.geolocation.clearWatch(t)}),4e3)}else{k("Geolocalizaci\xf3n no soportada por este navegador.");const t=new Date;e({type:v.Z.ADD_TIME_TRACKING,payload:{startTime:_,endTime:t,startLatitude:E||0,startLongitude:L||0}})}})(),l((e=>!e))},children:(0,g.jsx)(S.Z,{icon:(0,g.jsx)(p,{icon:o.pL1,color:"red"}),label:"Stop",disabled:!n})})]})})]})})};function I(){return(0,g.jsx)(l.Z,{children:(0,g.jsxs)(i.Z,{gutter:[0,32],children:[(0,g.jsx)(r.Z,{span:24,children:(0,g.jsx)(i.Z,{justify:"space-between",align:"bottom",children:(0,g.jsx)(r.Z,{children:(0,g.jsx)(s.Z,{text:"Hola!"})})})}),(0,g.jsx)(r.Z,{span:24,style:{textAlign:"center"},children:(0,g.jsx)(E,{})})]})})}},3283:(e,t,n)=>{function a(e){if(null==e)return!0;if("object"!==typeof e)return!0;for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}n.d(t,{Z:()=>a})}}]);
//# sourceMappingURL=402.70ce8450.chunk.js.map