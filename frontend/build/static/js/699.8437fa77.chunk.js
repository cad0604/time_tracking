"use strict";(self.webpackChunkreact_digitalbrann_no=self.webpackChunkreact_digitalbrann_no||[]).push([[699],{4054:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(2641),r=(n(2791),n(184));function i(e){let{label:t,size:n="large",...i}=e;return(0,r.jsx)(a.ZP,{className:"brann-secondary-button",size:n,type:"default",...i,children:t})}},4212:(e,t,n)=>{n.d(t,{Z:()=>s});n(2791);var a=n(3655),r=n(184);const{Text:i}=a.default;function s(e){let{text:t,align:n,color:a,fontSize:s=16,marginTop:l=0,...d}=e;return(0,r.jsx)(i,{ellipsis:!0,...d,style:{marginTop:l,textAlign:n,color:a,fontSize:s},children:t})}},146:(e,t,n)=>{n.d(t,{Z:()=>f});n(2791);var a=n(9434),r=n(3990),i=n(184);const s=e=>{let{children:t,...n}=e;return(0,i.jsx)("div",{...n,children:t})};var l=n(7689),d=n(1773),c=n(6800);const o=n.p+"static/media/LogoGMR.d5171a7665c86de1000a.png";function u(e){let{size:t=46,justify:n="center"}=e;const a={align:"center",block:"true",style:{justifyContent:n,width:"100%",padding:"0 24px"}},r={height:t,alt:"Digitalbrann",preview:!1};return(0,i.jsx)(d.Z,{...a,children:(0,i.jsx)(c.Z,{src:o,...r})})}var x=n(2641);function g(e){let{label:t,size:n="large",...a}=e;return(0,i.jsx)(x.ZP,{className:"brann-active-button",size:n,type:"primary",...a,children:t})}const{Header:h,Content:m}=r.default,f=e=>{let{children:t}=e;const n=(0,a.I0)(),d=(0,l.s0)();return(0,i.jsx)(r.default,{className:"app-layout",children:(0,i.jsxs)(r.default,{children:[(0,i.jsxs)(h,{style:{background:"linear-gradient(to right, white 15%, green)"},children:[(0,i.jsx)(s,{className:"nav_left",children:(0,i.jsx)(u,{})}),(0,i.jsx)(s,{className:"nav",children:(0,i.jsx)(g,{label:"Finalizar la sesi\xf3n",onClick:()=>{var e;"/loggut"===(e="/loggut")?n({type:"LOGOUT"}):d(e)}})})]}),(0,i.jsx)(m,{children:t})]})})}},5263:(e,t,n)=>{n.r(t),n.d(t,{default:()=>T});var a=n(2791),r=n(6106),i=n(914),s=n(146),l=n(2648),d=n(9613),c=n(891),o=n(184);function u(e){let{options:t,onChange:n,...a}=e;return(0,o.jsx)(c.Z,{size:"large",onChange:n,options:t,style:{width:250},...a})}var x=n(9434),g=n(6965),h=n(7954),m=n(1136),f=n(7892),j=n.n(f),p=n(9367),Z=n(4212);const y=e=>{let{firstName:t,lastName:n}=e;return(0,o.jsxs)(r.Z,{align:"top",gutter:12,children:[(0,o.jsx)(i.Z,{children:(0,o.jsx)(p.C,{size:"small",children:"".concat(t.charAt(0)).concat(n.charAt(0))})}),(0,o.jsx)(i.Z,{children:(0,o.jsx)(Z.Z,{text:"".concat(t," ").concat(n)})})]})};var Y=n(3283),v=n(4054);const{RangePicker:b}=l.default,k=()=>{const e=(0,x.I0)(),{timeTracking:t,isFetchingtimeTracking:n}=(0,x.v9)((e=>e.workflowTimeTracking)),{customers:s}=(0,x.v9)((e=>e.crmCustomer)),[l,c]=(0,a.useState)(null),[f,p]=(0,a.useState)(null),[Z,k]=(0,a.useState)(0),[T,D]=(0,a.useState)([]),C=e=>String("0"+e).slice(-2),L=[{title:"Comenzar",dataIndex:"startTime",key:"startTime",render:e=>j()(e).format("YYYY-MM-DD HH:mm:ss")},{title:"Latitud",dataIndex:"startLatitude",key:"startLatitude",responsive:["md"]},{title:"Longitud",dataIndex:"startLongitude",key:"startLongitude",responsive:["md"]},{title:"Fin",dataIndex:"endTime",key:"endTime",render:e=>j()(e).format("YYYY-MM-DD HH:mm:ss")},{title:"Latitud",dataIndex:"endLatitude",key:"endLatitude",responsive:["md"]},{title:"Longitud",dataIndex:"endLongitude",key:"endLongitude",responsive:["md"]},{title:"Tiempo de seguimiento",key:"time",align:"right",render:(e,t)=>{const n=j()(t.endTime).diff(j()(t.startTime))/1e3;let a=n%60,r=0,i=0;n>a&&(r=(n-a)/60,i=r%60);let s=0,l=0;return r>i&&(s=(r-i)/60,l=s%60),C(l)+":"+C(i)+":"+C(a)}}];(0,a.useEffect)((()=>{const t=new Date,n=j()(t).add(1,"day").format("YYYY-MM-DD"),a=j()(t).format("YYYY-MM-DD");c(a),p(n),e({type:h.Z.FETCH_CUSTOMER})}),[e]),(0,a.useEffect)((()=>{l&&f&&0!==Z&&e({type:g.Z.FETCH_TIME_TRACKING,startDate:l,endDate:f,userId:Z})}),[e,l,f,Z]),(0,a.useEffect)((()=>{(0,Y.Z)(s)||(async()=>{let e=[];await s.map((t=>e=[...e,{value:t.id,label:(0,o.jsx)(y,{firstName:t.firstName,lastName:t.lastName})}])),D(e)})()}),[s]);return(0,o.jsx)(a.Fragment,{children:(0,o.jsxs)(r.Z,{gutter:[0,32],children:[(0,o.jsx)(i.Z,{span:24,children:(0,o.jsxs)(r.Z,{justify:"space-between",gutter:[32,16],children:[(0,o.jsx)(i.Z,{children:(0,o.jsxs)(r.Z,{justify:"start",gutter:[32,16],children:[(0,o.jsx)(i.Z,{children:(0,o.jsx)(u,{placeholder:"Seleccionar trabajadora",options:T,onChange:e=>{k(e)}})}),(0,o.jsx)(i.Z,{children:(0,o.jsx)(b,{size:"large",onChange:e=>(e=>{const t=j()(e[0]).format("YYYY-MM-DD"),n=j()(e[1]).format("YYYY-MM-DD");c(t),p(n)})(e)})})]})}),(0,o.jsx)(i.Z,{children:(0,o.jsx)(v.Z,{label:"Descargar archivo XLS",onClick:()=>{e({type:m.Z.FILE_DOWNLOAD,payload:"./report/file.xlsx",fileName:"report.xlsx"})},disabled:null===l||null===f||0===Z})})]})}),(0,o.jsx)(i.Z,{span:24,children:(0,o.jsx)(d.Z,{rowKey:"id",loading:n,columns:L,dataSource:t})})]})})};function T(){return(0,o.jsx)(s.Z,{children:(0,o.jsx)(r.Z,{gutter:[0,32],children:(0,o.jsx)(i.Z,{span:24,children:(0,o.jsx)(k,{})})})})}},3283:(e,t,n)=>{function a(e){if(null==e)return!0;if("object"!==typeof e)return!0;for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}n.d(t,{Z:()=>a})}}]);
//# sourceMappingURL=699.8437fa77.chunk.js.map