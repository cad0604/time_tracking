"use strict";(self.webpackChunkreact_digitalbrann_no=self.webpackChunkreact_digitalbrann_no||[]).push([[699],{8504:(e,t,n)=>{n.d(t,{Z:()=>l});n(2791);var i=n(1773),a=n(6800);const r=n.p+"static/media/LogoGMR.d5171a7665c86de1000a.png";var s=n(184);function l(e){let{size:t=46,justify:n="center"}=e;const l={align:"center",block:"true",style:{justifyContent:n,width:"100%",padding:"0 24px"}},d={height:t,alt:"Digitalbrann",preview:!1};return(0,s.jsx)(i.Z,{...l,children:(0,s.jsx)(a.Z,{src:r,...d})})}},5644:(e,t,n)=>{n.d(t,{Z:()=>a});n(2791);var i=n(184);const a=e=>{let{children:t,...n}=e;return(0,i.jsx)("div",{...n,children:t})}},4054:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(2641),a=(n(2791),n(184));function r(e){let{label:t,size:n="large",...r}=e;return(0,a.jsx)(i.ZP,{className:"brann-secondary-button",size:n,type:"default",...r,children:t})}},5704:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(9806),a=(n(2791),n(184));function r(e){let{icon:t,size:n=20,...r}=e;return(0,a.jsx)(i.G,{icon:t,style:{fontSize:n},...r})}},4212:(e,t,n)=>{n.d(t,{Z:()=>s});n(2791);var i=n(3655),a=n(184);const{Text:r}=i.default;function s(e){let{text:t,align:n,color:i,fontSize:s=16,marginTop:l=0,...d}=e;return(0,a.jsx)(r,{ellipsis:!0,...d,style:{marginTop:l,textAlign:n,color:i,fontSize:s},children:t})}},592:(e,t,n)=>{n.d(t,{Z:()=>h});n(2791);var i=n(9434),a=n(3990),r=n(8363),s=n(9367),l=n(1632),d=n(5644),o=n(5704),c=n(7689),u=n(8504),m=n(184);const{Header:g,Content:x}=a.default,h=e=>{let{children:t,overflow:n="hidden"}=e;const h=(0,i.I0)(),f=(0,c.s0)(),{user:j}=(0,i.v9)((e=>e.auth)),p=[{key:"/administraci\xf3n/informe",icon:(0,m.jsx)(o.Z,{icon:l.SZw,size:16}),label:"Informes",showInMobile:!0,showInDesktop:!1,isAdmin:!0,onClick:()=>y("/administraci\xf3n/informe")},{key:"/administraci\xf3n/tabla",icon:(0,m.jsx)(o.Z,{icon:l.iOm,size:16}),label:"Tabla de trabajadoras",showInMobile:!0,showInDesktop:!1,isAdmin:!0,onClick:()=>y("/administraci\xf3n/tabla")},{type:"divider",style:{background:"#333"}},{key:"/loggut",icon:(0,m.jsx)(o.Z,{icon:l.HEx,size:16}),label:"Finalizar la sesi\xf3n",onClick:()=>y("/loggut")}].filter((e=>"/loggut"===e.key||("divider"===e.type||(j.isAdmin?e.isAdmin:!e.isAdmin)))).map((e=>"divider"===e.type?{type:e.type,style:e.style}:{key:e.key,icon:e.icon,label:e.label,onClick:e.onClick})),y=e=>{"/loggut"===e?h({type:"LOGOUT"}):f(e)};return(0,m.jsx)(a.default,{className:"app-layout",children:(0,m.jsxs)(a.default,{children:[(0,m.jsxs)(g,{style:{background:"linear-gradient(to right, white 15%, green)"},children:[(0,m.jsx)(d.Z,{className:"nav_left",children:(0,m.jsx)(u.Z,{})}),(0,m.jsx)(d.Z,{className:"nav",children:(0,m.jsx)(r.Z,{menu:{items:p},overlayClassName:"header-menu",trigger:["click"],arrow:!0,children:(0,m.jsx)(s.C,{size:"large",icon:(0,m.jsx)(o.Z,{icon:l.ILF})})})})]}),(0,m.jsx)(x,{children:t})]})})}},5263:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var i=n(2791),a=n(6106),r=n(914),s=n(2648),l=n(8489),d=n(891),o=n(184);function c(e){let{options:t,onChange:n,...i}=e;return(0,o.jsx)(d.Z,{size:"large",onChange:n,options:t,style:{width:250},...i})}var u=n(9434),m=n(6965),g=n(7954),x=n(1136),h=n(7892),f=n.n(h),j=n(9367),p=n(4212);const y=e=>{let{firstName:t,lastName:n}=e;return(0,o.jsxs)(a.Z,{align:"top",gutter:12,children:[(0,o.jsx)(r.Z,{children:(0,o.jsx)(j.C,{size:"small",children:"".concat(t.charAt(0)).concat(n.charAt(0))})}),(0,o.jsx)(r.Z,{children:(0,o.jsx)(p.Z,{text:"".concat(t," ").concat(n)})})]})};var Z=n(3283),k=n(4054);const{RangePicker:v}=s.default,b=()=>{const e=(0,u.I0)(),{timeTracking:t,isFetchingtimeTracking:n}=(0,u.v9)((e=>e.workflowTimeTracking)),{customers:s}=(0,u.v9)((e=>e.crmCustomer)),[d,h]=(0,i.useState)(null),[j,p]=(0,i.useState)(null),[b,Y]=(0,i.useState)(0),[C,D]=(0,i.useState)([]),T=e=>String("0"+e).slice(-2),w=[{title:"Comenzar",dataIndex:"startTime",key:"startTime",render:e=>f()(e).format("YYYY-MM-DD HH:mm:ss")},{title:"Latitud",dataIndex:"startLatitude",key:"startLatitude",responsive:["md"]},{title:"Longitud",dataIndex:"startLongitude",key:"startLongitude",responsive:["md"]},{title:"Fin",dataIndex:"endTime",key:"endTime",render:e=>f()(e).format("YYYY-MM-DD HH:mm:ss")},{title:"Latitud",dataIndex:"endLatitude",key:"endLatitude",responsive:["md"]},{title:"Longitud",dataIndex:"endLongitude",key:"endLongitude",responsive:["md"]},{title:"Tiempo de seguimiento",key:"time",align:"right",render:(e,t)=>{const n=f()(t.endTime).diff(f()(t.startTime))/1e3;let i=n%60,a=0,r=0;n>i&&(a=(n-i)/60,r=a%60);let s=0,l=0;return a>r&&(s=(a-r)/60,l=s%60),T(l)+":"+T(r)+":"+T(i)}}];(0,i.useEffect)((()=>{const t=new Date,n=f()(t).add(1,"day").format("YYYY-MM-DD"),i=f()(t).format("YYYY-MM-DD");h(i),p(n),e({type:g.Z.FETCH_CUSTOMER})}),[e]),(0,i.useEffect)((()=>{d&&j&&0!==b&&e({type:m.Z.FETCH_TIME_TRACKING,startDate:d,endDate:j,userId:b})}),[e,d,j,b]),(0,i.useEffect)((()=>{(0,Z.Z)(s)||(async()=>{let e=[];await s.map((t=>e=[...e,{value:t.id,label:(0,o.jsx)(y,{firstName:t.firstName,lastName:t.lastName})}])),D(e)})()}),[s]);return(0,o.jsx)(i.Fragment,{children:(0,o.jsxs)(a.Z,{gutter:[0,32],children:[(0,o.jsx)(r.Z,{span:24,children:(0,o.jsxs)(a.Z,{justify:"space-between",gutter:[32,16],children:[(0,o.jsx)(r.Z,{children:(0,o.jsxs)(a.Z,{justify:"start",gutter:[32,16],children:[(0,o.jsx)(r.Z,{children:(0,o.jsx)(c,{placeholder:"Seleccionar trabajadora",options:C,onChange:e=>{Y(e)}})}),(0,o.jsx)(r.Z,{children:(0,o.jsx)(v,{size:"large",onChange:e=>(e=>{const t=f()(e[0]).format("YYYY-MM-DD"),n=f()(e[1]).format("YYYY-MM-DD");h(t),p(n)})(e)})})]})}),(0,o.jsx)(r.Z,{children:(0,o.jsx)(k.Z,{label:"Descargar archivo XLS",onClick:()=>{e({type:x.Z.FILE_DOWNLOAD,startDate:d,endDate:j,userId:b,fileName:"report.xlsx"})},disabled:null===d||null===j||0===b})})]})}),(0,o.jsx)(r.Z,{span:24,children:(0,o.jsx)(l.Z,{rowKey:"id",loading:n,columns:w,dataSource:t})})]})})};var Y=n(592);function C(){return(0,o.jsx)(Y.Z,{children:(0,o.jsx)(a.Z,{gutter:[0,32],children:(0,o.jsx)(r.Z,{span:24,children:(0,o.jsx)(b,{})})})})}},3283:(e,t,n)=>{function i(e){if(null==e)return!0;if("object"!==typeof e)return!0;for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}n.d(t,{Z:()=>i})}}]);
//# sourceMappingURL=699.ec020590.chunk.js.map