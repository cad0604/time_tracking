"use strict";(self.webpackChunkreact_digitalbrann_no=self.webpackChunkreact_digitalbrann_no||[]).push([[238],{8100:(e,t,n)=>{n.d(t,{Z:()=>a});n(2791);var i=n(184);const a=e=>{let{children:t}=e;return(0,i.jsx)("div",{className:"brann-centered-container",children:t})}},6414:(e,t,n)=>{n.d(t,{Z:()=>a});n(2791);var i=n(184);function a(e){let{width:t,children:n,marginTop:a=0}=e;return(0,i.jsx)("div",{style:{marginTop:a,width:t},className:"brann-paper",children:n})}},4054:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(2641),a=(n(2791),n(184));function r(e){let{label:t,size:n="large",...r}=e;return(0,a.jsx)(i.ZP,{className:"brann-secondary-button",size:n,type:"default",...r,children:t})}},4212:(e,t,n)=>{n.d(t,{Z:()=>l});n(2791);var i=n(3655),a=n(184);const{Text:r}=i.default;function l(e){let{text:t,align:n,color:i,fontSize:l=16,marginTop:o=0,...s}=e;return(0,a.jsx)(r,{ellipsis:!0,...s,style:{marginTop:o,textAlign:n,color:i,fontSize:l},children:t})}},2082:(e,t,n)=>{n.d(t,{Z:()=>l});n(2791);var i=n(3655),a=n(184);const{Title:r}=i.default;function l(e){let{text:t,align:n,color:i,level:l=2}=e;return(0,a.jsx)(r,{level:l,style:{marginTop:0,textAlign:n,color:i},children:t})}},146:(e,t,n)=>{n.d(t,{Z:()=>f});n(2791);var i=n(9434),a=n(3990),r=n(184);const l=e=>{let{children:t,...n}=e;return(0,r.jsx)("div",{...n,children:t})};var o=n(7689),s=n(1773),c=n(6800);const d=n.p+"static/media/LogoGMR.d5171a7665c86de1000a.png";function u(e){let{size:t=46,justify:n="center"}=e;const i={align:"center",block:"true",style:{justifyContent:n,width:"100%",padding:"0 24px"}},a={height:t,alt:"Digitalbrann",preview:!1};return(0,r.jsx)(s.Z,{...i,children:(0,r.jsx)(c.Z,{src:d,...a})})}var g=n(2641);function p(e){let{label:t,size:n="large",...i}=e;return(0,r.jsx)(g.ZP,{className:"brann-active-button",size:n,type:"primary",...i,children:t})}const{Header:h,Content:x}=a.default,f=e=>{let{children:t}=e;const n=(0,i.I0)(),s=(0,o.s0)();return(0,r.jsx)(a.default,{className:"app-layout",children:(0,r.jsxs)(a.default,{children:[(0,r.jsxs)(h,{style:{background:"linear-gradient(to right, white 15%, green)"},children:[(0,r.jsx)(l,{className:"nav_left",children:(0,r.jsx)(u,{})}),(0,r.jsx)(l,{className:"nav",children:(0,r.jsx)(p,{label:"Finalizar la sesi\xf3n",onClick:()=>{var e;"/loggut"===(e="/loggut")?n({type:"LOGOUT"}):s(e)}})})]}),(0,r.jsx)(x,{children:t})]})})}},9028:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var i=n(2791),a=n(6106),r=n(914),l=n(146),o=n(2082),s=n(1632),c=n(1773),d=n(3069),u=n(9806),g=n(184);function p(e){let{icon:t,size:n=20,...i}=e;return(0,g.jsx)(u.G,{icon:t,style:{fontSize:n},...i})}var h=n(4212),x=n(9434);const f=e=>String("0"+e).slice(-2),m=(e,t)=>{"string"!==typeof e&&"number"!==typeof e||(e=new Date(e)),"string"!==typeof t&&"number"!==typeof t||(t=new Date(t));const n=Math.round((t-e)/1e3);let i=n%60,a=0,r=0;n>i&&(a=(n-i)/60,r=a%60);let l=0,o=0;return a>r&&(l=(a-r)/60,o=l%60),f(o)+":"+f(r)+":"+f(i)};var j=n(2140),v=n(6965),y=n(3283),Z=n(7892),T=n.n(Z),b=n(986);var w=n(8100),D=n(6414),S=n(1927),A=n(2641);function z(e){let{label:t,size:n="large",...i}=e;return(0,g.jsx)(A.ZP,{className:"brann-primary-button",size:n,type:"primary",...i,children:t})}var _=n(4054);let L=null;const E=()=>{const e=(0,x.I0)(),{timeStart:t}=(0,x.v9)((e=>e.workflowTimeStart)),[n,l]=(0,i.useState)(!1),[u,f]=(0,i.useState)("00:00:00"),[Z,A]=(0,i.useState)(null),[E,I]=(0,i.useState)(null),[C,N]=(0,i.useState)(null),[k,M]=(0,i.useState)(null),[G,R]=(0,i.useState)(null),[P,H]=(0,i.useState)(null),W=(0,S.C)();(0,i.useEffect)((()=>{var e,t;null!==P&&(e="Error",t=P,b.Z.warning({duration:5,message:e,description:t}),H(null))}),[P]),(0,i.useEffect)((()=>{e({type:j.Z.FETCH_TIME_START})}),[e]),(0,i.useEffect)((()=>{if(!(0,y.Z)(t)){L=T()(t.startTime);const e=()=>{const e=new Date;f(m(L,e))};e();let n=setInterval((()=>{e()}),1e3);A(n),l(!0),t.latitude&&I(t.latitude),t.longitidu&&N(t.longitidu)}}),[t]);const K=()=>{const e=new Date;f(m(L,e))};return(0,g.jsx)(w.Z,{children:(0,g.jsxs)(a.Z,{justify:"center",align:"middle",gutter:[0,32],children:[(0,g.jsx)(r.Z,{span:24,children:(0,g.jsx)(o.Z,{text:"Quieres empezar a trabajar ahora?",level:W?3:2})}),(0,g.jsx)(r.Z,{span:24,children:(0,g.jsx)(w.Z,{children:(0,g.jsx)(D.Z,{width:W?400:600,children:(0,g.jsx)(h.Z,{text:u,fontSize:W?60:100})})})}),(0,g.jsx)(r.Z,{span:24,children:(0,g.jsxs)(c.Z,{children:[(0,g.jsx)(z,{icon:(0,g.jsx)(p,{icon:s.zc,color:"green"}),label:"Play",disabled:n,onClick:()=>{const t=new Date;L=t,K();let n=setInterval((()=>{K()}),1e3);A(n),(()=>{if("geolocation"in navigator){const t=navigator.geolocation.watchPosition((t=>{I(t.coords.latitude),N(t.coords.longitude),H(null),e({type:j.Z.ADD_TIME_START,payload:{startTime:L,latitude:E,longitidu:C}})}),(t=>{H(t),e({type:j.Z.ADD_TIME_START,payload:{startTime:L,latitude:E,longitidu:C}})}),{enableHighAccuracy:!0,timeout:3e3,maximumAge:0});return()=>navigator.geolocation.clearWatch(t)}H("Geolocalizaci\xf3n no soportada por este navegador."),e({type:j.Z.ADD_TIME_START,payload:{startTime:L,latitude:E,longitidu:C}})})(),l((e=>!e))}}),(0,g.jsx)(d.Z,{title:"Detener el seguimiento del tiempo",description:"Est\xe1s segura de detener el seguimiento del tiempo?",onConfirm:()=>{clearInterval(Z),A(null),(()=>{if("geolocation"in navigator){const t=navigator.geolocation.watchPosition((t=>{M(t.coords.latitude),R(t.coords.longitude),H(null);const n=new Date;e({type:v.Z.ADD_TIME_TRACKING,payload:{startTime:L,endTime:n,startLatitude:E,startLongitidu:C,endLatitude:k,endLongitidu:G}})}),(t=>{H(t);const n=new Date;e({type:v.Z.ADD_TIME_TRACKING,payload:{startTime:L,endTime:n,startLatitude:E,startLongitidu:C,endLatitude:k,endLongitidu:G}})}),{enableHighAccuracy:!0,timeout:3e3,maximumAge:0});return()=>navigator.geolocation.clearWatch(t)}{H("Geolocalizaci\xf3n no soportada por este navegador.");const t=new Date;e({type:v.Z.ADD_TIME_TRACKING,payload:{startTime:L,endTime:t,startLatitude:E,startLongitidu:C,endLatitude:k,endLongitidu:G}})}})(),l((e=>!e))},children:(0,g.jsx)(_.Z,{icon:(0,g.jsx)(p,{icon:s.pL1,color:"red"}),label:"Stop",disabled:!n})})]})})]})})};function I(){return(0,g.jsx)(l.Z,{children:(0,g.jsxs)(a.Z,{gutter:[0,32],children:[(0,g.jsx)(r.Z,{span:24,children:(0,g.jsx)(a.Z,{justify:"space-between",align:"bottom",children:(0,g.jsx)(r.Z,{children:(0,g.jsx)(o.Z,{text:"Hola!"})})})}),(0,g.jsx)(r.Z,{span:24,style:{textAlign:"center"},children:(0,g.jsx)(E,{})})]})})}},3283:(e,t,n)=>{function i(e){if(null==e)return!0;if("object"!==typeof e)return!0;for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}n.d(t,{Z:()=>i})},1927:(e,t,n)=>{n.d(t,{C:()=>a});var i=n(2791);const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:768;const[t,n]=(0,i.useState)(window.innerWidth<=e);return(0,i.useEffect)((()=>{const t=()=>{n(window.innerWidth<=e)};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}),[e]),t}}}]);
//# sourceMappingURL=238.451570c5.chunk.js.map