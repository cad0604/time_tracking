{"version":3,"file":"static/js/402.508f1a29.chunk.js","mappings":"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","sources":["components/ui/box/CenteredContainer.js","components/ui/box/Paper.js","components/ui/button/SecondaryButton.js","components/ui/typo/Text.js","components/ui/typo/Title.js","components/ui/box/View.js","components/common/Logo.js","components/ui/button/ActiveButton.js","layouts/App.js","components/ui/typo/Icon.js","utils/time.js","components/ui/button/PrimaryButton.js","components/overview/TimeTracer.js","utils/responsive.js","utils/showNotification.js","pages/overview/Customer.js","utils/isEmptyObject.js"],"sourcesContent":["import React from \"react\";\n\nconst CenteredContainer = ({ children }) => {\n  return <div className=\"brann-centered-container\">{children}</div>;\n};\n\nexport default CenteredContainer;\n","import React from \"react\";\n\nexport default function BrannPaper({ width, children, marginTop = 0 }) {\n  return (\n    <div style={{ marginTop, width }} className=\"brann-paper\">\n      {children}\n    </div>\n  );\n}\n","import { Button } from \"antd\";\nimport React from \"react\";\n\nexport default function BrannSecondaryButton({\n  label,\n  size = \"large\",\n  ...rest\n}) {\n  return (\n    <Button\n      className=\"brann-secondary-button\"\n      size={size}\n      type=\"default\"\n      {...rest}\n    >\n      {label}\n    </Button>\n  );\n}\n","import React from \"react\";\nimport { Typography } from \"antd\";\n\nconst { Text } = Typography;\n\nexport default function BrannText({\n  text,\n  align,\n  color,\n  fontSize = 16,\n  marginTop = 0,\n  ...rest\n}) {\n  return (\n    <Text\n      ellipsis\n      {...rest}\n      style={{\n        marginTop: marginTop,\n        textAlign: align,\n        color: color,\n        fontSize: fontSize,\n      }}\n    >\n      {text}\n    </Text>\n  );\n}\n","import React from \"react\";\nimport { Typography } from \"antd\";\n\nconst { Title } = Typography;\n\nexport default function BrannTitle({ text, align, color, level = 2 }) {\n  return (\n    <Title\n      level={level}\n      style={{ marginTop: 0, textAlign: align, color: color }}\n    >\n      {text}\n    </Title>\n  );\n}\n","import React from \"react\";\n\nconst View = ({ children, ...props }) => {\n  return <div {...props}>{children}</div>;\n};\n\nexport default View;\n","import React from \"react\";\nimport { Image, Space } from \"antd\";\nimport LogoImage from \"assets/images/LogoGMR.png\";\n\nexport default function BrannLogo({ size = 46, justify = \"center\" }) {\n  const spaceProps = {\n    align: \"center\",\n    block: \"true\",\n    style: { justifyContent: justify, width: \"100%\", padding: \"0 24px\" },\n  };\n\n  const imageProps = {\n    height: size,\n    alt: \"Digitalbrann\",\n    preview: false,\n  };\n\n  return (\n    <Space {...spaceProps}>\n      <Image src={LogoImage} {...imageProps} />\n    </Space>\n  );\n}\n","import { Button } from \"antd\";\nimport React from \"react\";\n\nexport default function BrannActiveButton({ label, size = \"large\", ...rest }) {\n  return (\n    <Button\n      className=\"brann-active-button\"\n      size={size}\n      type=\"primary\"\n      {...rest}\n    >\n      {label}\n    </Button>\n  );\n}\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\n\nimport { Layout } from \"antd\";\n\nimport View from \"components/ui/box/View\";\nimport { useNavigate } from \"react-router-dom\";\nimport BrannLogo from \"components/common/Logo\";\nimport BrannActiveButton from \"components/ui/button/ActiveButton\";\n\nconst { Header, Content } = Layout;\n\nconst AppLayout = ({ children }) => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const onClickMenuItem = (key) => {\n    if (key === \"/loggut\") {\n      dispatch({\n        type: \"LOGOUT\",\n      });\n    } else {\n      navigate(key);\n    }\n  };\n\n  return (\n    <Layout className=\"app-layout\">\n      <Layout>\n        <Header\n          style={{ background: \"linear-gradient(to right, white 15%, green)\" }}\n        >\n          <View className=\"nav_left\">\n            <BrannLogo />\n          </View>\n          <View className=\"nav\">\n            <BrannActiveButton\n              label={\"Finalizar la sesión\"}\n              onClick={() => onClickMenuItem(\"/loggut\")}\n            />\n          </View>\n        </Header>\n        <Content>{children}</Content>\n      </Layout>\n    </Layout>\n  );\n};\n\nexport default AppLayout;\n","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\n\nexport default function BrannIcon({ icon, size = 20, ...rest }) {\n  return <FontAwesomeIcon icon={icon} style={{ fontSize: size }} {...rest} />;\n}\n","export const pad0Left = (num) => String(\"0\" + num).slice(-2);\r\n\r\n//build time duration in format hh:mm:ss\r\nexport const getTimeDuration = (startTime, endTime) => {\r\n  if (typeof startTime === \"string\" || typeof startTime === \"number\") {\r\n    startTime = new Date(startTime);\r\n  }\r\n\r\n  if (typeof endTime === \"string\" || typeof endTime === \"number\") {\r\n    endTime = new Date(endTime);\r\n  }\r\n\r\n  const durationInSecond = Math.round((endTime - startTime) / 1000);\r\n  let second = durationInSecond % 60;\r\n  let durationInMinute = 0;\r\n  let minute = 0;\r\n  if (durationInSecond > second) {\r\n    durationInMinute = (durationInSecond - second) / 60;\r\n    minute = durationInMinute % 60;\r\n  }\r\n  let durationInHour = 0;\r\n  let hour = 0;\r\n  if (durationInMinute > minute) {\r\n    durationInHour = (durationInMinute - minute) / 60;\r\n    hour = durationInHour % 60;\r\n  }\r\n\r\n  return pad0Left(hour) + \":\" + pad0Left(minute) + \":\" + pad0Left(second);\r\n};\r\n\r\n/*\r\n\r\n@date Date\r\n@return string \r\n\"10:10 PM\"\r\n*/\r\nexport const toAmPm = (date) => {\r\n  if (typeof date === \"string\" || typeof date === \"number\") {\r\n    date = new Date(date);\r\n  }\r\n\r\n  if (date instanceof Date) {\r\n    let hours = date.getHours();\r\n    const minutes = date.getMinutes();\r\n    const amPm = hours >= 12 ? \"PM\" : \"AM\";\r\n    hours = hours % 12 || 12;\r\n    return hours + \":\" + pad0Left(minutes) + \" \" + amPm;\r\n  } else {\r\n    console.error(\"input is not a date\");\r\n    return false;\r\n  }\r\n};\r\n\r\n/*\r\n\r\n@amPm: 10:10 PM\r\n\r\n@return {\r\n  hours: 10,\r\n  minutes: 10,\r\n  amPm: 'pm'\r\n}\r\n*/\r\nexport const fromAmPM = (amPm) => {\r\n  const amPmRegExp = /(\\d+)\\s*:\\s*(\\d+)\\s*(AM|PM)/i;\r\n  const matches = amPmRegExp.exec(amPm);\r\n  if (matches) {\r\n    return {\r\n      hours: parseInt(matches[1], 10),\r\n      minutes: parseInt(matches[2], 10),\r\n      amPm: matches[3].toLowerCase(),\r\n    };\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\n/*\r\nCalculate a Date object from user start time input\r\n\r\n@amPm string user input of start time in format hh:mm:ss\r\n@now Date current time\r\n@return Date \r\nif time is greater than now so return Date with one day back\r\ne.g. if @now : Jan 2 2017, 10:10PM and @amPM is 10:20PM then @return : Jan 1 2017, 10:20 PM\r\ne.g. if @now : Jan 2 2017, 10:10PM and @amPM is 9:20PM then @return : Jan 2 2017, 9:20 PM\r\n*/\r\nexport const fromAmPmToDate = (amPm, now) => {\r\n  const amPmObj = fromAmPM(amPm);\r\n  if (amPmObj) {\r\n    const hours = amPmObj.amPm === \"pm\" ? amPmObj.hours + 12 : amPmObj.hours;\r\n    let date = new Date(now.getTime());\r\n    date.setHours(hours, amPmObj.minutes);\r\n    if (date > now) {\r\n      date.setDate(date.getDate() - 1);\r\n    }\r\n    return date;\r\n  }\r\n  return null;\r\n};\r\n","import { Button } from \"antd\";\nimport React from \"react\";\n\nexport default function BrannPrimaryButton({ label, size = \"large\", ...rest }) {\n  return (\n    <Button\n      className=\"brann-primary-button\"\n      size={size}\n      type=\"primary\"\n      {...rest}\n    >\n      {label}\n    </Button>\n  );\n}\n","import { faPlay, faSquare } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Col, Popconfirm, Row, Space } from \"antd\";\r\nimport BrannIcon from \"components/ui/typo/Icon\";\r\nimport BrannText from \"components/ui/typo/Text\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { getTimeDuration } from \"utils/time\";\r\nimport actions from \"states/workflow/time_start/actions\";\r\nimport timeTrackingActions from \"states/workflow/time_tracking/actions\";\r\n\r\nimport isEmptyObject from \"utils/isEmptyObject\";\r\nimport dayjs from \"dayjs\";\r\nimport { showWarningNotification } from \"utils/showNotification\";\r\nimport BrannTitle from \"components/ui/typo/Title\";\r\nimport CenteredContainer from \"components/ui/box/CenteredContainer\";\r\nimport BrannPaper from \"components/ui/box/Paper\";\r\nimport { useMobileViewport } from \"utils/responsive\";\r\nimport BrannPrimaryButton from \"components/ui/button/PrimaryButton\";\r\nimport BrannSecondaryButton from \"components/ui/button/SecondaryButton\";\r\n\r\nlet startedTime = null;\r\nconst CustomerTimeTracer = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const { timeStart } = useSelector((state) => state.workflowTimeStart);\r\n\r\n  const [startedTimeTracer, setStartedTimeTracer] = useState(false);\r\n\r\n  const [duration, setDuration] = useState(\"00:00:00\");\r\n  const [timerId, setTimerId] = useState(null);\r\n\r\n  //GPS tracking\r\n  const [startLatitude, setStartLatitude] = useState(null);\r\n  const [startLongitude, setStartLongitude] = useState(null);\r\n  const [gpsError, setGpsError] = useState(null);\r\n\r\n  const isMobileView = useMobileViewport();\r\n  /*------------------------------get GPS position ----------------------*/\r\n  const makeStartGPSPosition = () => {\r\n    if (\"geolocation\" in navigator) {\r\n      const watchId = navigator.geolocation.watchPosition(\r\n        (position) => {\r\n          setStartLatitude(position.coords.latitude);\r\n          setStartLongitude(position.coords.longitude);\r\n          setGpsError(null);\r\n\r\n          dispatch({\r\n            type: actions.ADD_TIME_START,\r\n            payload: {\r\n              startTime: startedTime,\r\n              latitude: position.coords.latitude,\r\n              longitude: position.coords.longitude,\r\n            },\r\n          });\r\n        },\r\n        (err) => {\r\n          setGpsError(err.message);\r\n          dispatch({\r\n            type: actions.ADD_TIME_START,\r\n            payload: {\r\n              startTime: startedTime,\r\n            },\r\n          });\r\n        },\r\n        { enableHighAccuracy: true, timeout: 3500, maximumAge: 0 }\r\n      );\r\n      setTimeout(() => {\r\n        navigator.geolocation.clearWatch(watchId);\r\n      }, 3000);\r\n    } else {\r\n      setGpsError(\"Geolocalización no soportada por este navegador.\");\r\n      dispatch({\r\n        type: actions.ADD_TIME_START,\r\n        payload: {\r\n          startTime: startedTime,\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  const makeEndGPSPosition = () => {\r\n    if (\"geolocation\" in navigator) {\r\n      const watchId = navigator.geolocation.watchPosition(\r\n        (position) => {\r\n          setGpsError(null);\r\n          const end = new Date();\r\n          dispatch({\r\n            type: timeTrackingActions.ADD_TIME_TRACKING,\r\n            payload: {\r\n              startTime: startedTime,\r\n              endTime: end,\r\n              startLatitude: startLatitude ? startLatitude : 0,\r\n              startLongitude: startLongitude ? startLongitude : 0,\r\n              endLatitude: position.coords.latitude,\r\n              endLongitude: position.coords.longitude,\r\n            },\r\n          });\r\n        },\r\n        (err) => {\r\n          setGpsError(err.message);\r\n          const end = new Date();\r\n          dispatch({\r\n            type: timeTrackingActions.ADD_TIME_TRACKING,\r\n            payload: {\r\n              startTime: startedTime,\r\n              endTime: end,\r\n              startLatitude: startLatitude ? startLatitude : 0,\r\n              startLongitude: startLongitude ? startLongitude : 0,\r\n            },\r\n          });\r\n        },\r\n        { enableHighAccuracy: true, timeout: 3000, maximumAge: 0 }\r\n      );\r\n\r\n      setTimeout(() => {\r\n        navigator.geolocation.clearWatch(watchId);\r\n      }, 3000);\r\n    } else {\r\n      setGpsError(\"Geolocalización no soportada por este navegador.\");\r\n      const end = new Date();\r\n      dispatch({\r\n        type: timeTrackingActions.ADD_TIME_TRACKING,\r\n        payload: {\r\n          startTime: startedTime,\r\n          endTime: end,\r\n          startLatitude: startLatitude ? startLatitude : 0,\r\n          startLongitude: startLongitude ? startLongitude : 0,\r\n        },\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (gpsError !== null) {\r\n      showWarningNotification(\"Error\", `${gpsError}`);\r\n      setGpsError(null);\r\n    }\r\n  }, [gpsError]);\r\n  /*------------------------------get GPS position ----------------------*/\r\n\r\n  useEffect(() => {\r\n    dispatch({\r\n      type: actions.FETCH_TIME_START,\r\n    });\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (!isEmptyObject(timeStart)) {\r\n      startedTime = dayjs(timeStart.startTime);\r\n      const updateDuration = () => {\r\n        const now = new Date();\r\n        setDuration(getTimeDuration(startedTime, now));\r\n      };\r\n\r\n      updateDuration();\r\n\r\n      let timeId = setInterval(() => {\r\n        updateDuration();\r\n      }, 1000);\r\n      setTimerId(timeId);\r\n\r\n      setStartedTimeTracer(true);\r\n      if (timeStart.latitude) setStartLatitude(timeStart.latitude);\r\n      if (timeStart.longitude) setStartLongitude(timeStart.longitude);\r\n    }\r\n  }, [timeStart]);\r\n\r\n  const updateDuration = () => {\r\n    const now = new Date();\r\n    setDuration(getTimeDuration(startedTime, now));\r\n  };\r\n\r\n  const handleStartButton = () => {\r\n    const startTime = new Date();\r\n    startedTime = startTime;\r\n\r\n    updateDuration();\r\n\r\n    let timeId = setInterval(() => {\r\n      updateDuration();\r\n    }, 1000);\r\n    setTimerId(timeId);\r\n\r\n    makeStartGPSPosition();\r\n    setStartedTimeTracer((prev) => !prev);\r\n  };\r\n\r\n  const handleEndButton = () => {\r\n    clearInterval(timerId);\r\n    setTimerId(null);\r\n\r\n    makeEndGPSPosition();\r\n    setStartedTimeTracer((prev) => !prev);\r\n  };\r\n  return (\r\n    <CenteredContainer>\r\n      <Row justify={\"center\"} align={\"middle\"} gutter={[0, 32]}>\r\n        <Col span={24}>\r\n          <BrannTitle\r\n            text={\"Quieres empezar a trabajar ahora?\"}\r\n            level={isMobileView ? 3 : 2}\r\n          />\r\n        </Col>\r\n        <Col span={24}>\r\n          <CenteredContainer>\r\n            <BrannPaper width={isMobileView ? 400 : 600}>\r\n              <BrannText text={duration} fontSize={isMobileView ? 60 : 100} />\r\n            </BrannPaper>\r\n          </CenteredContainer>\r\n        </Col>\r\n        <Col span={24}>\r\n          <Space>\r\n            <BrannPrimaryButton\r\n              icon={<BrannIcon icon={faPlay} color={\"green\"} />}\r\n              label={\"Play\"}\r\n              disabled={startedTimeTracer}\r\n              onClick={handleStartButton}\r\n            />\r\n            <Popconfirm\r\n              title=\"Detener el seguimiento del tiempo\"\r\n              description={\"Estás segura de detener el seguimiento del tiempo?\"}\r\n              onConfirm={handleEndButton}\r\n            >\r\n              <BrannSecondaryButton\r\n                icon={<BrannIcon icon={faSquare} color={\"red\"} />}\r\n                label={\"Stop\"}\r\n                disabled={!startedTimeTracer}\r\n              />\r\n            </Popconfirm>\r\n          </Space>\r\n        </Col>\r\n      </Row>\r\n    </CenteredContainer>\r\n  );\r\n};\r\n\r\nexport default CustomerTimeTracer;\r\n","import { useState, useEffect } from \"react\";\n\nexport const useMobileViewport = (mobileBreakPoint = 768) => {\n  const [isMobile, setIsMobile] = useState(\n    window.innerWidth <= mobileBreakPoint\n  );\n\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobile(window.innerWidth <= mobileBreakPoint);\n    };\n\n    window.addEventListener(\"resize\", handleResize);\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, [mobileBreakPoint]);\n\n  return isMobile;\n};\n","import { notification } from \"antd\";\r\n\r\nexport function showWarningNotification(title, message) {\r\n  notification[\"warning\"]({\r\n    duration: 5,\r\n    message: title,\r\n    description: message,\r\n  });\r\n}\r\n\r\nexport function showSuccessNotification(title, message) {\r\n  notification[\"success\"]({\r\n    duration: 5,\r\n    message: title,\r\n    description: message,\r\n  });\r\n}\r\n","import React from \"react\";\nimport { Col, Row } from \"antd\";\n\nimport AppLayout from \"layouts/App\";\n\nimport BrannTitle from \"components/ui/typo/Title\";\nimport CustomerTimeTracer from \"components/overview/TimeTracer\";\n\nexport default function Overview() {\n  return (\n    <AppLayout>\n      <Row gutter={[0, 32]}>\n        <Col span={24}>\n          <Row justify=\"space-between\" align=\"bottom\">\n            <Col>\n              <BrannTitle text=\"Hola!\" />\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24} style={{ textAlign: \"center\" }}>\n          <CustomerTimeTracer />\n        </Col>\n      </Row>\n    </AppLayout>\n  );\n}\n","export default function isEmptyObject(obj) {\r\n\r\n    // null and undefined are \"empty\"\r\n    if (obj == null) return true;\r\n\r\n    // If it isn't an object at this point\r\n    // it is empty, but it can't be anything *but* empty\r\n    // Is it empty?  Depends on your application.\r\n    if (typeof obj !== \"object\") return true;\r\n\r\n    // Otherwise, does it have any properties of its own?\r\n    // Note that this doesn't handle\r\n    // toString and valueOf enumeration bugs in IE < 9\r\n    for (var key in obj) {\r\n        if (hasOwnProperty.call(obj, key)) return false;\r\n    }\r\n\r\n    return true;\r\n}"],"names":["_ref","children","_jsx","className","BrannPaper","width","marginTop","style","BrannSecondaryButton","label","size","rest","Button","type","Text","Typography","BrannText","text","align","color","fontSize","ellipsis","textAlign","Title","BrannTitle","level","props","BrannLogo","justify","spaceProps","block","justifyContent","padding","imageProps","height","alt","preview","Space","Image","src","LogoImage","BrannActiveButton","Header","Content","Layout","dispatch","useDispatch","navigate","useNavigate","_jsxs","background","View","onClick","key","BrannIcon","icon","FontAwesomeIcon","pad0Left","num","String","slice","getTimeDuration","startTime","endTime","Date","durationInSecond","Math","round","second","durationInMinute","minute","durationInHour","hour","BrannPrimaryButton","startedTime","CustomerTimeTracer","timeStart","useSelector","state","workflowTimeStart","startedTimeTracer","setStartedTimeTracer","useState","duration","setDuration","timerId","setTimerId","startLatitude","setStartLatitude","startLongitude","setStartLongitude","gpsError","setGpsError","isMobileView","mobileBreakPoint","arguments","length","undefined","isMobile","setIsMobile","window","innerWidth","useEffect","handleResize","addEventListener","removeEventListener","useMobileViewport","title","message","concat","notification","description","actions","FETCH_TIME_START","isEmptyObject","dayjs","updateDuration","now","timeId","setInterval","latitude","longitude","CenteredContainer","Row","gutter","Col","span","faPlay","disabled","handleStartButton","makeStartGPSPosition","navigator","watchId","geolocation","watchPosition","position","coords","ADD_TIME_START","payload","err","enableHighAccuracy","timeout","maximumAge","setTimeout","clearWatch","prev","Popconfirm","onConfirm","handleEndButton","clearInterval","makeEndGPSPosition","end","timeTrackingActions","ADD_TIME_TRACKING","endLatitude","endLongitude","faSquare","Overview","AppLayout","obj","hasOwnProperty","call"],"sourceRoot":""}