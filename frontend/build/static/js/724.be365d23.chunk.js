"use strict";(self.webpackChunkreact_digitalbrann_no=self.webpackChunkreact_digitalbrann_no||[]).push([[724],{8504:(e,t,n)=>{n.d(t,{Z:()=>l});n(2791);var i=n(1773),a=n(6800);const s=n.p+"static/media/LogoGMR.d5171a7665c86de1000a.png";var r=n(184);function l(e){let{size:t=46,justify:n="center"}=e;const l={align:"center",block:"true",style:{justifyContent:n,width:"100%",padding:"0 24px"}},d={height:t,alt:"Digitalbrann",preview:!1};return(0,r.jsx)(i.Z,{...l,children:(0,r.jsx)(a.Z,{src:s,...d})})}},5644:(e,t,n)=>{n.d(t,{Z:()=>a});n(2791);var i=n(184);const a=e=>{let{children:t,...n}=e;return(0,i.jsx)("div",{...n,children:t})}},4054:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(2641),a=(n(2791),n(184));function s(e){let{label:t,size:n="large",...s}=e;return(0,a.jsx)(i.ZP,{className:"brann-secondary-button",size:n,type:"default",...s,children:t})}},5704:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(9806),a=(n(2791),n(184));function s(e){let{icon:t,size:n=20,...s}=e;return(0,a.jsx)(i.G,{icon:t,style:{fontSize:n},...s})}},4212:(e,t,n)=>{n.d(t,{Z:()=>r});n(2791);var i=n(3655),a=n(184);const{Text:s}=i.default;function r(e){let{text:t,align:n,color:i,fontSize:r=16,marginTop:l=0,...d}=e;return(0,a.jsx)(s,{ellipsis:!0,...d,style:{marginTop:l,textAlign:n,color:i,fontSize:r},children:t})}},2082:(e,t,n)=>{n.d(t,{Z:()=>r});n(2791);var i=n(3655),a=n(184);const{Title:s}=i.default;function r(e){let{text:t,align:n,color:i,level:r=2}=e;return(0,a.jsx)(s,{level:r,style:{marginTop:0,textAlign:n,color:i},children:t})}},592:(e,t,n)=>{n.d(t,{Z:()=>g});n(2791);var i=n(9434),a=n(3990),s=n(8363),r=n(9367),l=n(1632),d=n(5644),o=n(5704),c=n(7689),u=n(8504),m=n(184);const{Header:x,Content:h}=a.default,g=e=>{let{children:t,overflow:n="hidden"}=e;const g=(0,i.I0)(),f=(0,c.s0)(),{user:j}=(0,i.v9)((e=>e.auth)),p=[{key:"/administraci\xf3n/informe",icon:(0,m.jsx)(o.Z,{icon:l.SZw,size:16}),label:"Informes",showInMobile:!0,showInDesktop:!1,isAdmin:!0,onClick:()=>y("/administraci\xf3n/informe")},{key:"/administraci\xf3n/tabla",icon:(0,m.jsx)(o.Z,{icon:l.iOm,size:16}),label:"Tabla de trabajadoras",showInMobile:!0,showInDesktop:!1,isAdmin:!0,onClick:()=>y("/administraci\xf3n/tabla")},{type:"divider",style:{background:"#333"}},{key:"/loggut",icon:(0,m.jsx)(o.Z,{icon:l.HEx,size:16}),label:"Finalizar la sesi\xf3n",onClick:()=>y("/loggut")}].filter((e=>"/loggut"===e.key||("divider"===e.type||(j.isAdmin?e.isAdmin:!e.isAdmin)))).map((e=>"divider"===e.type?{type:e.type,style:e.style}:{key:e.key,icon:e.icon,label:e.label,onClick:e.onClick})),y=e=>{"/loggut"===e?g({type:"LOGOUT"}):f(e)};return(0,m.jsx)(a.default,{className:"app-layout",children:(0,m.jsxs)(a.default,{children:[(0,m.jsxs)(x,{style:{background:"linear-gradient(to right, white 15%, green)"},children:[(0,m.jsx)(d.Z,{className:"nav_left",children:(0,m.jsx)(u.Z,{})}),(0,m.jsx)(d.Z,{className:"nav",children:(0,m.jsx)(s.Z,{menu:{items:p},overlayClassName:"header-menu",trigger:["click"],arrow:!0,children:(0,m.jsx)(r.C,{size:"large",icon:(0,m.jsx)(o.Z,{icon:l.ILF})})})})]}),(0,m.jsx)(h,{children:t})]})})}},8285:(e,t,n)=>{n.r(t),n.d(t,{default:()=>I});var i=n(2791),a=n(6106),s=n(914),r=n(2648),l=n(8985),d=n(8489),o=n(891),c=n(184);function u(e){let{options:t,onChange:n,...i}=e;return(0,c.jsx)(o.Z,{size:"large",onChange:n,options:t,style:{width:"100%"},...i})}var m=n(9434),x=n(6965),h=n(7954),g=n(1136),f=n(7892),j=n.n(f),p=n(9367),y=n(4212);const Z=e=>{let{firstName:t,lastName:n}=e;return(0,c.jsxs)(a.Z,{align:"top",gutter:12,children:[(0,c.jsx)(s.Z,{children:(0,c.jsx)(p.C,{size:"small",children:"".concat(t.charAt(0)).concat(n.charAt(0))})}),(0,c.jsx)(s.Z,{children:(0,c.jsx)(y.Z,{text:"".concat(t," ").concat(n)})})]})};var k=n(3283),v=n(4054),b=n(1927),C=(n(2082),n(3655));const{Title:D}=C.default;const{RangePicker:T}=r.default,Y=()=>{const e=(0,m.I0)(),t=(0,b.C)(),{timeTracking:n,isFetchingtimeTracking:r}=(0,m.v9)((e=>e.workflowTimeTracking)),{customers:o}=(0,m.v9)((e=>e.crmCustomer)),[f,p]=(0,i.useState)(null),[y,C]=(0,i.useState)(null),[D,Y]=(0,i.useState)(0),[w,I]=(0,i.useState)([]),L=e=>String("0"+e).slice(-2),M=[{title:"Comenzar",dataIndex:"startTime",key:"startTime",render:e=>j()(e).format("YYYY-MM-DD HH:mm:ss")},{title:"Latitud",dataIndex:"startLatitude",key:"startLatitude",responsive:["md"]},{title:"Longitud",dataIndex:"startLongitude",key:"startLongitude",responsive:["md"]},{title:"Fin",dataIndex:"endTime",key:"endTime",render:e=>j()(e).format("YYYY-MM-DD HH:mm:ss")},{title:"Latitud",dataIndex:"endLatitude",key:"endLatitude",responsive:["md"]},{title:"Longitud",dataIndex:"endLongitude",key:"endLongitude",responsive:["md"]},{title:"Tiempo de seguimiento",key:"time",align:"right",render:(e,t)=>{const n=j()(t.endTime).diff(j()(t.startTime))/1e3;let i=n%60,a=0,s=0;n>i&&(a=(n-i)/60,s=a%60);let r=0,l=0;return a>s&&(r=(a-s)/60,l=r%60),L(l)+":"+L(s)+":"+L(i)}}];(0,i.useEffect)((()=>{const t=new Date,n=j()(t).add(1,"day").format("YYYY-MM-DD"),i=j()(t).format("YYYY-MM-DD");p(i),C(n),e({type:h.Z.FETCH_CUSTOMER})}),[e]),(0,i.useEffect)((()=>{f&&y&&0!==D&&e({type:x.Z.FETCH_TIME_TRACKING,startDate:f,endDate:y,userId:D})}),[e,f,y,D]),(0,i.useEffect)((()=>{(0,k.Z)(o)||(async()=>{let e=[];await o.map((t=>e=[...e,{value:t.id,label:(0,c.jsx)(Z,{firstName:t.firstName,lastName:t.lastName})}])),I(e)})()}),[o]);return(0,c.jsx)(i.Fragment,{children:(0,c.jsxs)(a.Z,{gutter:[0,32],children:[(0,c.jsx)(s.Z,{span:24,children:(0,c.jsxs)(a.Z,{justify:"space-between",gutter:[32,16],children:[(0,c.jsx)(s.Z,{sm:24,xs:24,md:12,children:(0,c.jsxs)(a.Z,{gutter:[0,16],style:{width:"100%"},children:[(0,c.jsx)(s.Z,{sm:24,xs:24,md:12,children:(0,c.jsx)(u,{placeholder:"Seleccionar trabajadora",options:w,onChange:e=>{Y(e)}})}),(0,c.jsx)(s.Z,{sm:24,xs:24,md:12,children:(0,c.jsx)(l.ZP,{theme:{components:{DatePicker:{cellWidth:t?20:36}},token:{borderRadius:"none"}},children:(0,c.jsx)(T,{size:"large",onChange:e=>(e=>{const t=j()(e[0]).format("YYYY-MM-DD"),n=j()(e[1]).format("YYYY-MM-DD");p(t),C(n)})(e),style:{width:"100%"}})})})]})}),(0,c.jsx)(s.Z,{sm:24,xs:24,md:5,children:(0,c.jsx)(v.Z,{label:"Descargar archivo XLS",onClick:()=>{e({type:g.Z.FILE_DOWNLOAD,startDate:f,endDate:y,userId:D,fileName:"report.xlsx"})},disabled:null===f||null===y||0===D,style:{width:"100%"}})})]})}),(0,c.jsx)(s.Z,{span:24,children:(0,c.jsx)(d.Z,{rowKey:"id",loading:r,columns:M,dataSource:n})})]})})};var w=n(592);function I(){return(0,c.jsx)(w.Z,{children:(0,c.jsx)(a.Z,{gutter:[0,32],children:(0,c.jsx)(s.Z,{span:24,children:(0,c.jsx)(Y,{})})})})}},3283:(e,t,n)=>{function i(e){if(null==e)return!0;if("object"!==typeof e)return!0;for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}n.d(t,{Z:()=>i})}}]);
//# sourceMappingURL=724.be365d23.chunk.js.map